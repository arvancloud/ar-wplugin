(function(a){a.redux_welcome=a.redux_welcome||{};a(document).ready(function(){a.redux_welcome.initQtip();if(jQuery(document.getElementById("support_div")).is(":visible")){a.redux_welcome.initSupportPage()}a.redux_welcome.supportHash()});a.redux_welcome.supportHash=function(){jQuery("#support_hash").focus(function(){var b=jQuery(this);b.select();b.mouseup(function(){b.unbind("mouseup");return false})});jQuery(".redux_support_hash").click(function(d){var c=jQuery(this);if(c.hasClass("disabled")){return}var b=jQuery("#redux_support_nonce").val();c.addClass("disabled");c.parent().append('<span class="spinner" style="display:block;float: none;margin: 10px auto;"></span>');c.closest(".spinner").fadeIn();if(!window.console){console={}}console.log=console.log||function(e,f){};jQuery.ajax({type:"post",dataType:"json",url:ajaxurl,data:{action:"redux_support_hash",nonce:b},error:function(e){console.log(e);c.removeClass("disabled");c.parent().find(".spinner").remove();alert("There was an error. Please try again later.")},success:function(e){if(e.status=="success"){jQuery("#support_hash").val("https://support.redux.io/?id="+e.identifier);c.parents("fieldset:first").find(".next").removeAttr("disabled").click()}else{console.log(e);alert("There was an error. Please try again later.")}}});d.preventDefault()})};a.redux_welcome.initSupportPage=function(){var f,g,b;var h,e,i;var d;a.fn.actualHeight=function(){var j=this.closest(":visible").children(),k;j.addClass("temp-show");k=this.height();j.removeClass("temp-show");return k};function c(){var j=0;jQuery(document).find("#support_div fieldset").each(function(){var k=a(this).actualHeight();if(j<k){j=k}});jQuery("#support_div").height(j+20)}c();a(window).on("resize",function(){c()});jQuery("#is_user").click(function(){jQuery("#final_support .is_user").show();jQuery("#final_support .is_developer").hide();jQuery(this).parents("fieldset:first").find(".next").click()});jQuery("#is_developer").click(function(){jQuery("#final_support .is_user").hide();jQuery("#final_support .is_developer").show();jQuery(this).parents("fieldset:first").find(".next").click()});jQuery("#support_div .next").click(function(){if(d){return false}d=true;f=jQuery(this).parent();g=jQuery(this).parent().next();jQuery("#progressbar li").eq(jQuery("fieldset").index(g)).addClass("active");g.show();f.animate({opacity:0},{step:function(j,k){i=1-(1-j)*0.2;h=(j*50)+"%";e=1-j;f.css({transform:"scale("+i+")"});g.css({left:h,opacity:e})},duration:800,complete:function(){f.hide();d=false},easing:"easeInOutBack"})});jQuery("#support_div .previous").click(function(){if(d){return false}d=true;f=jQuery(this).parent();b=jQuery(this).parent().prev();jQuery("#progressbar li").eq(jQuery("fieldset").index(f)).removeClass("active");b.show();f.animate({opacity:0},{step:function(j,k){i=0.8+(1-j)*0.2;h=((1-j)*50)+"%";e=1-j;f.css({left:h});b.css({transform:"scale("+i+")",opacity:e})},duration:800,complete:function(){f.hide();d=false},easing:"easeInOutBack"})})};a.redux_welcome.initQtip=function(){if(a().qtip){var m="qtip-shadow";var h="qtip-dark";var f="";var c="";var g=m+","+h+","+f+","+c;g=g.replace(/,/g," ");var k="top center";var b="bottom center";var l="mouseenter";var e="click mouseleave";var j="slide";var d="300";var n="slide";var i="300";a(".redux-hint-qtip").each(function(){a(this).qtip({content:{text:a(this).attr("qtip-content"),title:a(this).attr("qtip-title")},show:{effect:function(){switch(j){case"slide":a(this).slideDown(d);break;case"fade":a(this).fadeIn(d);break;default:a(this).show();break}},event:l},hide:{effect:function(){switch(n){case"slide":a(this).slideUp(i);break;case"fade":a(this).fadeOut(i);break;default:a(this).show(i);break}},event:e},style:{classes:g},position:{my:k,at:b}})})}}})(jQuery);